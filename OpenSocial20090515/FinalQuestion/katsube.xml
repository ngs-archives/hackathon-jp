<?xml version="1.0" encoding="UTF-8" ?>
<Module>
	<ModulePrefs title="FinalQuestion" height="1500">
		<Require feature="dynamic-height"/>
	</ModulePrefs>
	<Content type="html" view="canvas">
	<![CDATA[
		<script>document.write('<link rel="stylesheet" href="http://hackathon-jp.googlecode.com/svn/trunk/OpenSocial20090515/FinalQuestion/katsube.css?rand=' + Math.random() + '" type="text/css" />');</script>

		<h1>FinalQuestion</h1>

		<!-- [メイン画面] -->
		<div id="main"></div>

		<!-- [メニュー] -->
		<div id="mainmenu" style="display:none">
			<div id="mainmenu-in">
				<ul id="menulist">
					<li id="battle">バトル</li>
					<li id="castle">城</li>
					<li id="item">アイテム</li>
				</ul>
				<div id="status" style="clear:both"></div>
			</div>
		</div>
		<!-- [/メニュー] -->

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			/*----------------------------------------------------
			 * ■メインメニュー
			 *----------------------------------------------------*/
			var MainMenu = {
				//------------------------------
				//HTMLのIDリスト
				//------------------------------
				'id':{
					  'canvas':'#main'
					,   'menu':'#mainmenu'

					, 'battle':'#battle'
					, 'castle':'#castle'
					,   'item':'#item'
				}

				//------------------------------
				//初期化(onLoad時に呼び出し)
				//------------------------------
				, 'init' : function(){
					//メニュー表示
					MainMenu.disp(
						  MainMenu.id.canvas
						, MainMenu.id.menu
					);
					
					//イベント設定
					$(MainMenu.id.battle)
						.mouseover( function(){ $(this).css('font-size','180%'); Status.write('キラー○シンとクイズでバトル！') } )
						.mouseout( function(){ $(this).css('font-size','130%');} )
						.click( Battle.start );
					
					$(MainMenu.id.castle)
						.mouseover( function(){ $(this).css('font-size','180%'); Status.write('お姫様に会いに行こう') } )
						.mouseout( function(){ $(this).css('font-size','130%');} )
						.click( Castle.start );

					$(MainMenu.id.item)
						.mouseover( function(){ $(this).css('font-size','180%'); Status.write('アイテムについてのアレコレ')} )
						.mouseout( function(){ $(this).css('font-size','130%');} )
						.click( Item.start );
					
				}

				//------------------------------
				//メニュー表示
				//------------------------------
				, 'disp' : function(canvas, menu){
					var source = $(menu).html();
					$(canvas).html(source);
				}
			};

			/*----------------------------------------------------
			 * ■ステータス
			 *----------------------------------------------------*/
			 var Status = {
				//------------------------------
				//HTMLのIDリスト
				//------------------------------
				'id': '#status'

				//------------------------------
				//ステータスに表示
				//------------------------------
				, 'write':function(msg){
					$(Status.id).html(msg);
				}
			 };

			/*----------------------------------------------------
			 * ■バトルスタート
			 *----------------------------------------------------*/
			 var Battle = {
				'start':function(){
					alert('battle start');
				}
			 };
			 
			/*----------------------------------------------------
			 * ■城
			 *----------------------------------------------------*/
			 var Castle = {
				'start':function(){
					alert('castle start');
				}
			 };
			 
			/*----------------------------------------------------
			 * ■アイテム
			 *----------------------------------------------------*/
			 var Item = {
				'start':function(){
					alert('item start');
				}
			 };
			
			/*----------------------------------------------------
			 * ■onLoad イベントハンドラ
			 *----------------------------------------------------*/
			gadgets.util.registerOnLoadHandler(function(){
				//メニュー表示
				MainMenu.init();
				
				//ステータス更新
				Status.write('Final Questionへようこそ');
				
				//高さ変更
				//gadgets.window.adjustHeight();
			});
		</script>
	]]>
	</Content>
</Module>
