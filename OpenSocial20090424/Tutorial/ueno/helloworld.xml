<?xml version="1.0" encoding="UTF-8"?>
<Module>
	<ModulePrefs title="HelloWorld!"
				 description="こんにちは，世界"
					 author_email="iron.nori@gmail.com">
					 <Require feature="opensocial-0.8"/>
	</ModulePrefs>
	<Content type="html" view="home"><![CDATA[
		Hello, World!!
		
	]]></Content>
	<Content type="html" view="profile"><![CDATA[
		Hello, World!!
	]]></Content>
	<Content type="html" view="canvas"><![CDATA[
		Hello, World!!!!!

		<script type="text/javascript">
			function request(){
				alert("hello!!");
				var idspec	= opensocial.newIdSpec({"userId":"OWNER","groupId":"FRIENDS"});
				var req 	= opensocial.newDataRequest();
				req.add(req.newFetchPersonRequest("OWNER"),"get_owner");
				req.add(req.newFetchPeopleRequest(idspec),"get_frieds");
				req.send(response);
			}

			function response(dataResponse){
				var owner	= dataResponse.get("get_owner").getData();
				var friends	= dataResponse.get("get_friends").getData();

				var html = "";
				html += "友達" + friends.length +"人"
				html += "<ul>";
				friends.each(function(person){
					html += "\n" + "<li>" + person.getDisplayName() + "</li>"
				});
				html += "\n</ul>";
				document.getElementById("message").innerHTML = html;
			}
			gadgets.util.registerOnLoadHandler(request);
		</script>
		<div id="message">
		</dev>
	]]></Content>
</Module>
