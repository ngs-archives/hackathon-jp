<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Gifts part 1 - Friends">
    <Require feature="opensocial-0.7"/>
  </ModulePrefs>
  <Content type="html">
    <![CDATA[
      <script type="text/javascript">
        gadgets.util.registerOnLoadHandler(init);

var list = [];

function init() {
	request();
}

function request() {
	var req = opensocial.newDataRequest();
	req.add(req.newFetchPersonRequest('VIEWER'), 'viewer');
	req.add(req.newFetchPeopleRequest('VIEWER_FRIENDS'), 'viewerFriends');
	req.send(request);
}


function request(data) {
	alert(1);
	var viewer = data.get('viewer').getData();
	var viewerFriends = data.get('viewerFriends').getData();
	viewerFriends.each(function(person) {
		person.getDisplayName();
		for(i in person) {
			alert(i);
		}
		exit;
	});
}

	  </script>
	  <div id="main"></div>
   ]]>
  </Content>
</Module>
