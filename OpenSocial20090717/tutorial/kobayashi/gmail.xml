<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="Gifts part 3 - Showing Gifts">
    <Require feature="opensocial-0.8"/>
  </ModulePrefs>
  <Content type="html">
    <![CDATA[
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/prototype/1.6.0.3/prototype.js"></script>
	<script type="text/javascript">
			function login () {
				var words = $('words').value;
				var url = 'http://blogsearch.google.co.jp/blogsearch_feeds?hl=ja&q='+ words +'&um=1&ie=utf-8&num=10&output=atom';

				//オプション設定
				var params = {};
				params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.FEED;

				gadgets.io.makeRequest(url, callback ,params);
			}
			function callback(response) {
				$('mail_list').innerHTML = response.data['Entry'][0]["Title"];
			}

			function init() {
				$('login').onclick = login;
			}

			gadgets.util.registerOnLoadHandler(init);
      </script>
		<div id="form">
			<h1>ブログ検索</h1>
			<input type="textbox" id="words" class="text" value="OpenSocial" /><br />
			<button type="button" id="login">検索</button>
		</div>
		<ul id="mail_list">
		</ul>
    ]]>
  </Content>
</Module>
